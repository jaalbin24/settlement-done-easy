<div class="card mb-3">
    <div class="card-body">
        <h1 class="card-title">Welcome to <strong class="text-primary">Settlement Done Easy</strong>!</h1>
        <hr>
        <div class="w-100">
            <h6 class="card-subtitle text-muted">Your account has been created, but you must activate it in order to complete settlements. Complete the checklist below to activate your account.</h6>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col ps-0">
            <div class="d-grid gap-2">
                <div class="card" id="onboard_stripe_checklist_item" style="<%=current_user.stripe_account.onboarded? ? "opacity: 50%;": ""%>">
                    <a class="card-body list-group-item-action text-decoration-none d-flex align-items-center justify-content-between" href="">
                        <div class="d-flex gap-4 align-items-center">
                            <%if current_user.stripe_account.onboarded?%>
                                <%=checkbox_icon(checked: true, color: :green, size: :h1, solid: true)%>
                                <div>
                                    <div class="d-flex align-items-center gap-3">
                                        <h4 class="text-muted m-0" id="onboard_stripe_checklist_item_title"><del>Onboard with Stripe</del></h4>
                                        <span class="badge rounded-pill bg-success">Complete!</span>
                                    </div>
                                    <p class="text-muted m-0" id="onboard_stripe_checklist_item_subtitle"><del>Complete onboarding with our payment processor Stripe.</del></p>
                                </div>
                            <%else%>
                                <%=checkbox_icon(checked: false, color: :grey, size: :h1)%>
                                <div>
                                    <h4 class="m-0" id="onboard_stripe_checklist_item_title">Onboard with Stripe</h4>
                                    <p class="text-muted m-0" id="onboard_stripe_checklist_item_subtitle">Complete onboarding with our payment processor Stripe.</p>
                                </div>
                            <%end%>
                        </div>
                        <%=chevron_icon(direction: :right, color: :grey)%>
                    </a>
                </div>
                <div class="card" id="add_ba_checklist_item" style="<%=current_user.has_bank_account? ? "opacity: 50%;": ""%>">
                    <a class="card-body list-group-item-action text-decoration-none d-flex align-items-center justify-content-between" href="">
                        <div class="d-flex gap-4 align-items-center">
                            <%if current_user.has_bank_account?%>
                                <%=checkbox_icon(checked: true, color: :green, size: :h1, solid: true)%>
                                <div>
                                    <div class="d-flex align-items-center gap-3">
                                        <h4 class="text-muted m-0" id="add_ba_checklist_item_title"><del>Add a bank account</del></h4>
                                        <span class="badge rounded-pill bg-success">Complete!</span>
                                    </div>
                                    <p class="text-muted m-0" id="add_ba_checklist_item_subtitle"><del>Add a bank account to your wallet to start <%=current_user.isLawFirm? ? "receiving" : "sending"%> funds.</del></p>
                                </div>
                            <%else%>
                                <%=checkbox_icon(checked: false, color: :grey, size: :h1)%>
                                <div>
                                    <h4 class="m-0" id="add_ba_checklist_item_title">Add a bank account</h4>
                                    <p class="text-muted m-0" id="add_ba_checklist_item_subtitle">Add a bank account to your wallet to start <%=current_user.isLawFirm? ? "receiving" : "sending"%> funds.</p>
                                </div>
                            <%end%>
                        </div>
                        <%=chevron_icon(direction: :right, color: :grey)%>
                    </a>
                </div>
                <div class="card" id="add_member_checklist_item" style="<%=current_user.has_member_account? ? "opacity: 50%;": ""%>">
                    <a class="card-body list-group-item-action text-decoration-none d-flex align-items-center justify-content-between" href="">
                        <div class="d-flex gap-4 align-items-center">
                            <%if current_user.has_member_account?%>
                                <%=checkbox_icon(checked: true, color: :green, size: :h1, solid: true)%>
                                <div>
                                    <div class="d-flex align-items-center gap-3">
                                        <h4 class="text-muted m-0" id="add_member_checklist_item_title"><del>Create <%=indefinite_articleize(member_role_name)%> account</del></h4>
                                        <span class="badge rounded-pill bg-success">Complete!</span>
                                    </div>
                                    <p class="text-muted m-0" id="add_member_checklist_item_subtitle"><del>You will need <%=indefinite_articleize(member_role_name)%> account to process settlements.</del></p>
                                </div>
                            <%else%>
                                <%=checkbox_icon(checked: false, color: :grey, size: :h1)%>
                                <div>
                                    <h4 class="m-0" id="add_member_checklist_item_title">Create <%=indefinite_articleize(member_role_name)%> account</h4>
                                    <p class="text-muted m-0" id="add_member_checklist_item_subtitle">You will need <%=indefinite_articleize(member_role_name)%> account to process settlements.</p>
                                </div>
                            <%end%>
                        </div>
                        <%=chevron_icon(direction: :right, color: :grey)%>
                    </a>
                </div>
                <div class="card" id="verify_email_checklist_item" style="<%=current_user.email_verified? ? "opacity: 50%;": ""%>">
                    <a class="card-body list-group-item-action text-decoration-none d-flex align-items-center justify-content-between" href="">
                        <div class="d-flex gap-4 align-items-center">
                            <%if current_user.email_verified?%>
                                <%=checkbox_icon(checked: true, color: :green, size: :h1, solid: true)%>
                                <div>
                                    <div class="d-flex align-items-center gap-3">
                                        <h4 class="text-muted m-0" id="verify_email_checklist_item_title"><del>Verify your email</del></h4>
                                        <span class="badge rounded-pill bg-success">Complete!</span>
                                    </div>
                                    <p class="text-muted m-0" id="verify_email_checklist_item_subtitle"><del>Enter the 6-digit code sent to <%=current_user.email%></del></p>
                                </div>
                            <%else%>
                                <%=checkbox_icon(checked: false, color: :grey, size: :h1)%>
                                <div>
                                    <h4 class="m-0" id="verify_email_checklist_item_title">Verify your email</h4>
                                    <p class="text-muted m-0" id="verify_email_checklist_item_subtitle">Enter the 6-digit code sent to <%=current_user.email%></p>
                                </div>
                            <%end%>
                        </div>
                        <%=chevron_icon(direction: :right, color: :grey)%>
                    </a>
                </div>
                <div class="card" id="mfa_checklist_item" style="<%=current_user.two_factor_authentication_enabled? ? "opacity: 50%;": ""%>">
                    <a class="card-body list-group-item-action text-decoration-none d-flex align-items-center justify-content-between" href="">
                        <div class="d-flex gap-4 align-items-center">
                            <%if current_user.two_factor_authentication_enabled?%>
                                <%=checkbox_icon(checked: true, color: :green, size: :h1, solid: true)%>
                                <div>
                                    <div class="d-flex align-items-center gap-3">
                                        <h4 class="text-muted m-0" id="mfa_checklist_item_title"><del>Enable Multi Factor Authentication</del></h4>
                                        <span class="badge rounded-pill bg-success">Complete!</span>
                                    </div>
                                    <p class="text-muted m-0" id="mfa_checklist_item_subtitle"><del>Enable MFA to secure your account and your business.</del></p>
                                </div>
                            <%else%>
                                <%=checkbox_icon(checked: false, color: :grey, size: :h1)%>
                                <div>
                                    <h4 class="m-0">Enable Multi Factor Authentication</h4>
                                    <p class="text-muted m-0">Enable MFA to secure your account and your business.</p>
                                </div>
                            <%end%>
                        </div>
                        <%=chevron_icon(direction: :right, color: :grey)%>
                    </a>
                </div>
            </div>
        </div>
        <div class="col pe-0">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Activation progress <strong><span class="badge bg-<%=@activation_progress==100 ? "success" : "warning text-dark"%> rounded-pill"><%=@activation_progress%>%</span></strong></h4>
                    <h6 class="card-subtitle text-muted">Complete items on the checklist to reach 100%</h6>
                    <div class="progress mt-2">
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-<%=@activation_progress==100 ? "success" : "warning" %>" role="progressbar" aria-valuenow="<%=@activation_progress%>" aria-valuemin="0" aria-valuemax="100" style="width: <%=@activation_progress%>%;"></div>
                    </div>
                    <p>While your account is not activated, you won't be able to start settlements or <%=current_user.isLawFirm? ? "receive" : "send"%> funds.</p>
                </div>
            </div>
        </div>
    </div>
</div>